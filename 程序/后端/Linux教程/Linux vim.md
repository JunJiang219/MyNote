![[Pasted image 20241104165041.png]]

# vi/vim 常用按键说明
## 一般模式可用的光标移动、复制粘贴、搜索替换等

**移动光标的方法**
* **h或（←）：** 光标向左移动一个字符
* **j或（↓）：** 光标向下移动一个字符
* **k或（↑）：** 光标向上移动一个字符
* **l或（→）：** 光标向右移动一个字符
```
如果想向下移动30行，可以使用 “30j” 或 “30↓”
```
* **[Ctrl] + [f]：** 屏幕向下移动一页，相当于 [Page Down] 按键
* **[Ctrl] + [b]：** 屏幕向上移动一页，相当于 [Page Up] 按键
* **0或[Home]：** 这是数字 [0] ，移动到这一行的最前面字符处
* **$或[End]：** 移动到这一行的最后面字符处
* **G：** 移动到这个档案的最后一行
* **nG：** n 为数字，移动到这个档案的第 n 行。例如 20G 会移动到第 20 行（可配合：set nu）
* **gg：** 移动到这个档案的第一行，相当于 1G
*  **n[Enter]：** n 为数字，光标向下移动 n 行

**搜索和替换**
* **/word：** 向光标之下寻找一个名为 word 的字符串
* **?word：** 向光标之上寻找一个名为 word 的字符串
* **n：** 这个 n 是英文按键。代表重复前一个搜寻的动作
* **N：** 这个 N 是英文件。与 n 相反，为反向进行前一个搜寻动作
* **n1,n2s/word1/word2/g：** n1 与 n2 为数字。在第 n1 行与 n2 行之间寻找 word1 这个字符串，并将该字符串替换为 word2
* **1,$s/word1/word2/g 或 :%s/word1/word2/g：** 从第一行到最后一行寻找 word1 字符串，替换为 word2
* **1,$s/word1/word2/gc 或 :%s/word1/word2/gc：** 从第一行到最后一行寻找 word1 字符串，替换为 word2！且在替换前显示提示字符让用户确认是否替换

**删除、复制与粘贴**
* **x, X：** 在一行文字中，x为向后删除一个字符（相当于 [del]），X为向前删除一个字符（相当于 [backspace]）
* **nx：** n 为数字，连续向后删除 n 个字符
* **dd：** 剪切游标所在行整行
* **ndd：** n 为数字，剪切光标所在向下n行
* **yy：** 复制游标所在行
* **nyy：** n 为数字，复制光标所在向下 n 行
* **u：** 复原/撤销前一个动作
* **[Ctrl]+r：** 重做上一个动作
* **.：** 小数点，重复前一个动作

## 一般模式切换到编辑模式的可用按钮说明
* **i, I：** 进入输入模式，i 为【从目前光标处输入】，I 为【在目前所在行的第一个非空格符处开始输入】
* **a, A：** 进入输入模式，a 为【从目前光标所在的下一个字符处开始输入】，A 为【从光标所在行的最后一个字符处开始输入】
* **o, O：** 进入输入模式，o 为在光标所在下一行处输入新的一行，O 为在光标所在上一行处输入新的一行
* **r, R：** 进入取代模式，r 只会取代光标所在的那一个字符一次，R 会一直取代光标所在的文字，直到按下 ESC 为止
* **[Esc]：** 退出编辑模式，回到一般模式中

## 一般模式切换到指令模式可用的按钮说明
* **:w：** 将编辑的数据写入硬盘
* **:w!：** 强制写入，能不能成功和档案权限有关
* **:q：** 退出
* **:q!：** 强制退出不保存
* **:wq：** 保存并退出
* **:w [filename]：** 将编辑的数据存储成另一个档案（类似另存为）
* **:r [filename]：** 在编辑的数据中，读入另一个档案的数据，将其加到游标所在行后面
* **:n1,n2 w [filename]：** 将 n1 到 n2 的内容存储成 filename 这个档案
* **:! command：** 暂离vi到指令模式下执行 command 的显示结果。例如 【:! ls /home】即可在 vi 当中查看 /home 底下以 ls 输出的档案信息
* **:set nu：** 显示行号
* **:set nonu：** 取消行号